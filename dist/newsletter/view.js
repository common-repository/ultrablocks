(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.domReady;var a=e.n(t);const{ULTRABLOCKS:n}=window;a()((()=>{const e=document.querySelectorAll(".wp-block-ultrablocks-newsletter"),t=(e,t,a)=>{e.nextElementSibling?.classList.contains("ub-newsletter-message")&&e.nextElementSibling.remove();const n=document.createElement("div");n.className="ub-newsletter-message-wrapper",n.innerHTML=`<span id="ub-newsletter-status" class="ub-newsletter-message-${a}">${t}</span>`,e.append(n)};e.forEach((e=>e.addEventListener("submit",(e=>async a=>{a.preventDefault();const s=e.id.replace("ultrablocks-",""),r=e.querySelector(`#newsletter-email-${s}`),o=r?.value||"",l=new FormData,c=e.getAttribute("data-options");l.append("action","ub_newsletter_subscribe"),l.append("email",o),l.append("blockId",s),l.append("nonce",n.nonce),l.append("data",c||"");try{const a=await fetch(n.ajax_url,{method:"POST",body:l,credentials:"same-origin"}),s=await a.json();"success"===s.status&&r&&(r.value=""),t(e,s.message,s.status)}catch(a){t(e,"Something went wrong, please try again later","error")}})(e))))}))})();